{"ast":null,"code":"import _regeneratorRuntime from\"D:/HOC_CUNG_HOI_DAN_IT/practiceReact/React-Practice/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/HOC_CUNG_HOI_DAN_IT/practiceReact/React-Practice/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/HOC_CUNG_HOI_DAN_IT/practiceReact/React-Practice/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import'../style/Login.scss';import{toast}from'react-toastify';import{useNavigate}from'react-router-dom';import{handleLoginRedux}from'../redux/actions/userAction';import{useDispatch,useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isShowPassword=_useState6[0],setIsShowPassword=_useState6[1];var isLoading=useSelector(function(state){return state.user.isLoading;});var account=useSelector(function(state){return state.user.account;});// useEffect(() => {\n//     let token = localStorage.getItem(\"token\");\n//     if (token) {\n//         navigate(\"/\");\n//     }\n// }, [])\nvar handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(!email||!password)){_context.next=3;break;}toast.error(\"Email/Pasword is required!\");return _context.abrupt(\"return\");case 3:dispatch(handleLoginRedux(email,password));// let res = await loginApi(email.trim(), password);\n// // console.log(\"check login: \", res);\n// if(res && res.token) {\n//     loginContext(email, res.token);\n//     navigate(\"/\");\n//     toast.success(\"Login successful!\");\n// } else {\n//     if(res && res.status === 400) {\n//         toast.error (res.data.error);\n//     }\n// }\ncase 4:case\"end\":return _context.stop();}},_callee);}));return function handleLogin(){return _ref.apply(this,arguments);};}();var handleGoBack=function handleGoBack(){navigate(\"/\");};var handlePressEnter=function handlePressEnter(event){if(event&&event.key===\"Enter\"){handleLogin();}// console.log(\" event:\", event)\n};useEffect(function(){if(account&&account.auth===true){navigate(\"/\");}},[account]);return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container col-12 col-sm-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"Email or username ( eve.holt@reqres.in )\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email or username...\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-pass\",children:[/*#__PURE__*/_jsx(\"input\",{type:isShowPassword===true?\"text\":\"password\",placeholder:\"password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);},onKeyDown:function onKeyDown(event){return handlePressEnter(event);}}),/*#__PURE__*/_jsx(\"i\",{className:isShowPassword===true?\"fa-solid fa-eye\":\"fa-solid fa-eye-slash\",onClick:function onClick(){return setIsShowPassword(!isShowPassword);}// setIsShowPassword(!isShowPassword) dùng dấu chấm than để xét giá trị ngược lại với giá trị hiện tại\n// ví dụ: isShowPassword đang bằng false thì dùng dấu chấm than nó sẽ bằng true\n})]}),/*#__PURE__*/_jsxs(\"button\",{className:email&&password?\"active\":\"\",disabled:email&&password?false:true,onClick:function onClick(){return handleLogin();},children:[isLoading&&/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-circle-notch fa-spin\"}),\"\\xA0Login\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"back\",onClick:function onClick(){return handleGoBack();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-angle-left\"}),\"\\xA0Go back\"]})]});};export default Login;","map":{"version":3,"names":["useEffect","useState","toast","useNavigate","handleLoginRedux","useDispatch","useSelector","jsx","_jsx","jsxs","_jsxs","Login","navigate","dispatch","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","isShowPassword","setIsShowPassword","isLoading","state","user","account","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","error","abrupt","stop","apply","arguments","handleGoBack","handlePressEnter","event","key","auth","className","children","type","placeholder","value","onChange","target","onKeyDown","onClick","disabled"],"sources":["D:/HOC_CUNG_HOI_DAN_IT/practiceReact/React-Practice/src/component/Login.js"],"sourcesContent":["import {useEffect, useState} from 'react';\r\nimport '../style/Login.scss';\r\nimport {toast} from 'react-toastify';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {handleLoginRedux} from '../redux/actions/userAction';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nconst Login = () => {\r\n\r\n    const navigate = useNavigate();\r\n    const dispatch =  useDispatch();\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [isShowPassword, setIsShowPassword] = useState(false);\r\n\r\n    const isLoading = useSelector(state => state.user.isLoading);\r\n    const account = useSelector(state => state.user.account);\r\n\r\n\r\n    // useEffect(() => {\r\n    //     let token = localStorage.getItem(\"token\");\r\n    //     if (token) {\r\n    //         navigate(\"/\");\r\n    //     }\r\n    // }, [])\r\n\r\n    const handleLogin = async () => {\r\n        // alert(\"me\");\r\n        if(!email || !password) {\r\n            toast.error(\"Email/Pasword is required!\");\r\n            return;\r\n        }\r\n\r\n        dispatch(handleLoginRedux(email, password));\r\n\r\n        // let res = await loginApi(email.trim(), password);\r\n        // // console.log(\"check login: \", res);\r\n        // if(res && res.token) {\r\n        //     loginContext(email, res.token);\r\n        //     navigate(\"/\");\r\n        //     toast.success(\"Login successful!\");\r\n        // } else {\r\n        //     if(res && res.status === 400) {\r\n        //         toast.error (res.data.error);\r\n        //     }\r\n        // }\r\n\r\n\r\n    }\r\n\r\n    const handleGoBack = () => {\r\n        navigate(\"/\");\r\n    }\r\n\r\n    const handlePressEnter = (event) => {\r\n        if ( event && event.key === \"Enter\" ) {\r\n            handleLogin();\r\n        }\r\n        // console.log(\" event:\", event)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (account && account.auth === true) {\r\n            navigate(\"/\");\r\n        }\r\n    },[account])\r\n\r\n    return (\r\n        <div className=\"login-container col-12 col-sm-4\">\r\n            <div className=\"title\">Login</div>\r\n            <div className=\"text\">Email or username ( eve.holt@reqres.in )</div>\r\n            <input \r\n                type='text' \r\n                placeholder='Email or username...'\r\n                value={email}\r\n                onChange={(event) => setEmail(event.target.value) }\r\n            />\r\n            <div className=\"input-pass\"> \r\n                <input \r\n                    type={ isShowPassword === true ? \"text\" : \"password\"} \r\n                    placeholder='password'\r\n                    value={password}\r\n                    onChange={(event) => setPassword(event.target.value)}\r\n                    onKeyDown={(event) => handlePressEnter(event)}\r\n                />\r\n                <i className={isShowPassword === true ? \"fa-solid fa-eye\" : \"fa-solid fa-eye-slash\"}\r\n                    onClick={() => setIsShowPassword(!isShowPassword)}\r\n                    // setIsShowPassword(!isShowPassword) dùng dấu chấm than để xét giá trị ngược lại với giá trị hiện tại\r\n                    // ví dụ: isShowPassword đang bằng false thì dùng dấu chấm than nó sẽ bằng true\r\n                ></i>\r\n            </div>\r\n            <button \r\n                className={email && password ? \"active\" : \"\"}\r\n                disabled={email && password ? false : true}\r\n                onClick={() => handleLogin()}\r\n            > \r\n                {isLoading && <i className=\"fas fa-circle-notch fa-spin\"></i>}\r\n                &nbsp;Login\r\n            </button>\r\n            {/* className={email && password ? \"active\" : \"\"} ý nghĩa của câu điều kiện này:\r\n                Nếu như có email và password thì nó sẽ thêm class \"active\" vào\r\n                còn nếu không có 1 trong 2 cũng như cả 2 thì class là trống */}\r\n            <div className=\"back\" onClick={() => handleGoBack()}>\r\n                <i className=\"fa-solid fa-angle-left\"></i>\r\n                &nbsp;Go back\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}